$(document).ready(function(){
	$('.summernote').summernote({
		height: 150,
		minHeight: null,
		maxHeight: null,
		focus: true,
		lang: 'ko-KR'
	});

	/** ================ main.jsp 스크립트 =================== **/	
	$(".menu-toggle-btn").click(function(){
		$(".gnb").stop().slideToggle("fast");
	})
	
	/** ================ admin.jsp 스크립트 =================== **/
	/*memberDetail.jsp*/
	var detail_box = $(".detail_checkBox");
	var detail_btnDelete = $("#detail_btn_delete");
	var detail_close= $(".detail_close");
	
	detail_btnDelete.click(function(){
		detail_box.css("display", "block");
		$("#adminPw").focus();
	});
	
	detail_close.click(function(){
		detail_box.css("display", "none");
	});
	
	$("#detail_btn_cancel").on("click", function(){
		location.href = contextPath+"/admin/member/listMembers.do";
	});
	 
	
	/*memberEnableForm.jsp*/
	var enable_box = $(".enable_checkBox");
	var enable_btnConfirm = $("#enable_btn_confirm");
	var enable_close= $(".enable_close");
	
	enable_btnConfirm.click(function(){
		enable_box.css("display", "block");
		
	});
	
	enable_close.click(function(){
		enable_box.css("display", "none");
	});
	
	$("#enable_btn_cancel").on("click", function(){
		location.href = contextPath+"/admin/member/memberDetail.do?userEmail=" + $('input[name=userEmail]').val();
	});
  	
  	/*resetUserPwForm.jsp*/
	$("#alert-success").hide(); 
	$("#alert-danger").hide();
	$(".newPw").keyup(function(){
		var newPw = $("#newPw").val();
		var comparePw = $("#comparePw").val();
		if(newPw != '' || comparePw != '' ) {
			if(newPw == comparePw) {
				$("#alert-success").show(); 
				$("#alert-danger").hide();
			} else {
				$("#alert-success").hide(); 
				$("#alert-danger").show();
			}
		}
	});
	
  	 
  	/*reportBoardList.jsp*/
 	$(document).on('click', '#report_btnSearch', function(e){
		e.preventDefault();
		var url = contextPath+"/admin/board/reportedBoardList.do";
		url = url+"?searchType="+$('#searchType').val();
		url = url+"&keyword="+$('#keyword').val();
		location.href=url;
	});
	
  	/** ================ board.jsp 스크립트 =================== **/
	/*viewArticle.jsp*/
	$("#reportBtn1").click(function(){
		if(confirm("해당 글을 신고하시겠습니까?")){
			var formObj = $(this).parent();
			formObj.submit();
		}
	});
		
	$(".reportBtn2").click(function(){
		if(confirm("해당 글을 신고하시겠습니까?")){
		   var formObj = $(this).parent();
		   formObj.submit();
		}
	});
 	
 	
	  $("#replyDeleteCtr").click(function(){
		  if(confirm("정말로 댓글을 삭제하시겠어요?")){
			  var formObj = $(this).parent();
			  formObj.attr("method", "post");
			  formObj.attr("action", contextPath+"/board/deleteReply.do");
			  formObj.submit();
		  }
	  });
	  
	  $(".replyModifyCtr").click(function(){
		  if(confirm("정말로 댓글을 수정하시겠어요?")){
			  var formObj = $(this).parent();
			  formObj.attr("method", "post");
			  formObj.attr("action", contextPath+"/board/modifyReply.do");
			  formObj.submit();
		  }
	  });
	  
	  
	  $(".replyModifyOnOff").click(function(){
			$(this).siblings(".replyModifyForm").slideToggle();
			
	  });
	
	  $("#showSetFinalReplyBtn").click(function(){
		  $(".setFinalReplyBtn").stop().slideToggle("fast");
	  });
	  
	  $(".setFinalReplyBtn").click(function(){
		  if(confirm("답변 채택 시 수정이 불가능합니다.\n해당 답변을 채택하시겠습니까?")){
			  var formObj = $(this).parent();
			  formObj.attr("method", "post");
			  formObj.attr("action", contextPath+"/board/setFinalReply.do");
			  formObj.submit();
		  }
	  });
	  
	  $(".setFinalBoardBtn").click(function(){
		  if(confirm("구인/구직 완료 시 수정이 불가능합니다.\n해당 구인/구직을 완료하시겠습니까?")){
			  $(this).parent().submit();
		  }
	  })

	// articleForm.jsp
    $('#article_btn').click(function(){
    	if($('#article_title').val() == ''){
    		alert('제목을 입력하세요.');
    		return false;
    	} else if($('#summernote').val() == ''){
    		alert('본문의 내용을 작성하세요.');
    		return false;
    	} else if($('#article_title').val().length >= 200){
    		alert('입력 가능한 제목 글자수를 초과하였습니다.');
    		return false;
    	} else{
    		$(this).parent().submit();
    		return;
    	}
    });
    
    
    // viewArticle.jsp
    $("#replyBtn").click(function(){
	    if($("#replyContent").val() == ''){
	  	  alert("내용을 입력하세요.");
	    } else{
	    	$(this).parent().submit();
	    }
    });
	

    /** ================ member.jsp 스크립트 =================== **/
    /** 2020.04.09 추가 **/
    
	// FAQ 페이지
	$(".faq_title1").on("click", function(){
		if($(".1").css("display") == "none") {			
			$(".1").css("display", "block");
		} else {
			$(".1").css("display", "none");
		}
	});
	
	$(".faq_title2").on("click", function(){
		if($(".2").css("display") == "none") {			
			$(".2").css("display", "block");
		} else {
			$(".2").css("display", "none");
		}
	});
	
	$(".faq_title3").on("click", function(){
		if($(".3").css("display") == "none") {			
			$(".3").css("display", "block");
		} else {
			$(".3").css("display", "none");
		}
	});
	
	$(".faq_title4").on("click", function(){
		if($(".4").css("display") == "none") {			
			$(".4").css("display", "block");
		} else {
			$(".4").css("display", "none");
		}
	});
	
	$(".faq_title5").on("click", function(){
		if($(".5").css("display") == "none") {			
			$(".5").css("display", "block");
		} else {
			$(".5").css("display", "none");
		}
	});
	
	$(".faq_title6").on("click", function(){
		if($(".6").css("display") == "none") {			
			$(".6").css("display", "block");
		} else {
			$(".6").css("display", "none");
		}
	});
	
    // 회원 탈퇴
	$("#del_chkPw").click(function(){
		var userPw = $("#del_userPw").val();
		//alert(userPw);
		if(userPw == ""){
			alert("비밀번호를 입력해주세요.");
			$("#del_userPw").focus();
			return false;
		}
		$.ajax({
			url : contextPath+"/member/passChk.do",
			type : "POST",
			async:false,
			dataType : "json",
			data : {userEmail:$('#del_userEmail').val(), userPw:$('#del_userPw').val()},
			success: function(data){	
				if(data==0){
					alert("비밀번호가 틀렸습니다.");
				}else if(data!=0){
					alert("비밀번호 확인이 완료되었습니다.");
					$("#submit-btn").removeAttr("disabled");
					return;
				}
			},
		    error:function(data){
		       alert("에러가 발생했습니다.");
		    },
		    complete:function(data){
		    }
		});
		return false;
	});
	
	/* 회원 가입 */
		
	// 이메일 중복 체크
	$("#add_chkEmail").click(function(){
		if($("#add_userEmail").val()==""){
			alert("이메일을 입력해주세요.");
			$("#add_userEmail").focus();
			return false;
		}
		$.ajax({
			url : contextPath+"/member/overlapEmail.do",
			type : "POST",
			async:false, 
			dataType : "json",
			data : {userEmail:$(add_userEmail).val()},
			success: function(data){	
				if(data==0){
					alert("사용할 수 있는 이메일입니다.");
					return;
				}else if(data!=0){
					alert("사용할 수 없는 이메일입니다.");
				}
			},
		    error:function(data){
		       alert("에러가 발생했습니다.");
		    },
		    complete:function(data){
		    }
		});
		return false;
	});
	
	// 닉네임 중복 체크
	$("#add_chkNick").click(function(){
		if($("#add_nickname").val()==""){
			alert("닉네임을 입력해주세요.");
			$("#add_nickname").focus();
			return false;
		}
		$.ajax({
			url : contextPath+"/member/overlapNickName.do",
			type : "POST",
			async:false,
			dataType : "json",
			data : {nickname:$(add_nickname).val()},
			success: function(data){	
				if(data==0){
					alert("사용할 수 있는 닉네임입니다.");
					return;
				}else if(data!=0){
					alert("사용할 수 없는 닉네임입니다.");
				}
			},
		    error:function(data){
		       alert("에러가 발생했습니다.");
		    },
		    complete:function(data){
		    }
		});
		return false;
	});
	
	/* 회원 정보 수정*/
	// 닉네임 중복 체크
	
	$("#mod_chkNick").click(function(){
		if($("#mod_nickname").val()==""){
			alert("닉네임을 입력해주세요.");
			$("#mod_nickname").focus();
			return false;
		}
		$.ajax({
			url : contextPath+"/member/overlapNickName.do",
			type : "POST",
			async:false,
			dataType : "json",
			data : {nickname:$(mod_nickname).val()},
			success: function(data){	
				if(data==0){
					alert("사용할 수 있는 닉네임입니다.");
					return;
				}else if(data!=0){
					alert("사용할 수 없는 닉네임입니다.");
				}
			},
		    error:function(data){
		       alert("에러가 발생했습니다.");
		    },
		    complete:function(data){
		    }
		});
		return false;
	});

	/* 회원 가입 비밀번호 확인*/
	$("#add_alert-success").hide(); 
	$("#add_alert-danger").hide();
	$(".add_userPw").keyup(function(){
		var add_newPw = $("#add_userPw").val();
		var add_comparePw = $("#add_compare_userPw").val();
		if(add_newPw != '' || add_comparePw != '' ) {
			if(add_newPw == add_comparePw) {
				$("#add_alert-success").show(); 
				$("#add_alert-danger").hide();
			} else {
				$("#add_alert-success").hide(); 
				$("#add_alert-danger").show();
			}
		}
	});
	
	/* 정보 수정 비밀번호 확인 */
	$("#mod_alert-success").hide(); 
	$("#mod_alert-danger").hide();
	$(".mod_userPw").keyup(function(){
		var newPw = $("#mod_userPw").val();
		var comparePw = $("#mod_compare_userPw").val();
		if(newPw != '' || comparePw != '' ) {
			if(newPw == comparePw) {
				$("#mod_alert-success").show(); 
				$("#mod_alert-danger").hide();
			} else {
				$("#mod_alert-success").hide(); 
				$("#mod_alert-danger").show();
			}
		}
	});
	
});



//유효성 검사 2020.04.24 추가
//회원가입시 사용하는 함수
/*function memValidate() {
	var pwReg = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;
	var emailReg = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
	 
	var email = document.getElementById("add_userEmail");
	var pw = document.getElementById("add_userPw");
	
	if(!check(emailReg, email, "적합하지 않은 이메일 형식입니다.\n예시 : email@example.com")) {
		return false;
	}
	
	if(!check(pwReg, pw, "비밀번호는 8자 이상이어야 하며, 숫자/대문자/소문자/특수문자를 모두 포함해야 합니다.")) {
		return false;
	}
};
//고객센터 비밀번호 재설정 시 사용하는 함수
function resetPwValidate(){
	var pwReg = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;
	var pw = document.getElementById("newPw");
	
	if(!check(pwReg, pw, "비밀번호는 8자 이상이어야 하며, 숫자/대문자/소문자/특수문자를 모두 포함해야 합니다.")) {
		return false;
	}
};
//유효성체크 함수
function check(reg, what, message) {
	if(reg.test(what.value)) {
		return true;
	}
	alert(message);
	what.value = '';
	what.focus();
};

*/
